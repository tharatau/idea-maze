[
  "Top-level string entries are treated as comments.",

  "Each object entry defines a virtual suite with the following fields:       ",
  " prefix: The name of the virtual suite. A virtual test name will be like   ",
  "     virtual/<prefix>/<base-test-name>.                                    ",
  " platforms: A list of platforms on which the virtual suite will run.       ",
  "     Linux is recommended if the test suite is platform-agnostic.          ",
  " bases: A list of test directories or names that will be run under the     ",
  "     virtual suite.                                                        ",
  " exclusive_tests (optional): \"ALL\" or a list containing a subset of      ",
  "     `bases` specifying the tests that will be exclusively run under this  ",
  "     virtual suite. The specified base tests will be skipped. Corresponding",
  "     virtual tests under other virtual suites that don't specify the tests ",
  "     in their `exclusive_tests` list will be skipped, too.                 ",
  " args: A list of command line switches that will be passed to the test     ",
  "     driver for the tests under this virtual suite.                        ",

  {
    "prefix": "anonymous-iframe-origin-trial",
    "platforms": ["Linux", "Mac", "Win", "Fuchsia"],
    "bases": ["wpt_internal/origin_trials/anonymous-iframe"],
    "args": [
      "--disable-blink-features=AnonymousIframe",
      "--disable-features=PartitionedCookies,ThirdPartyStoragePartitioning",
      "--enable-features=AnonymousIframeOriginTrial"
    ]
  },
  {
    "prefix": "pna-permission",
    "platforms": ["Linux", "Mac", "Win", "Fuchsia"],
    "bases": ["external/wpt/fetch/private-network-access"],
    "args": ["--enable-features=PrivateNetworkAccessPermissionPrompt"]
  },
  {
    "prefix": "reduce-accept-language",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": ["http/tests/navigation/language",
              "http/tests/inspector-protocol/network",
              "http/tests/serviceworker/reduce-accept-language/fetch-event-headers.html",
              "navigator_language/reduce_accept_language"],
    "exclusive_tests": ["http/tests/serviceworker/reduce-accept-language/fetch-event-headers.html",
                        "navigator_language/reduce_accept_language"],
    "args": ["--enable-features=ReduceAcceptLanguage"]
  },
  {
    "prefix": "gpu",
    "platforms": ["Linux", "Mac", "Win", "Fuchsia"],
    "bases": ["fast/canvas"],
    "args": ["--enable-accelerated-2d-canvas"]
  },
  {
    "prefix": "unsafe_webgpu",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": ["regress/regress-1104580.html"],
    "args": ["--enable-unsafe-webgpu"]
  },

  "The skipped base tests require a compositor, e.g. some uses requestIdleCallback",
  {
    "prefix": "threaded",
    "platforms": ["Linux", "Mac", "Win", "Fuchsia"],
    "bases": ["compositing/visibility",
              "compositing/webgl",
              "animations/stability",
              "external/wpt/animation-worklet",
              "external/wpt/css/css-animations",
              "external/wpt/css/css-backgrounds",
              "external/wpt/css/css-color/animation",
              "external/wpt/css/css-scroll-snap",
              "external/wpt/css/css-transforms/animation",
              "external/wpt/css/css-transforms/individual-transform/animation",
              "external/wpt/feature-policy/experimental-features",
              "external/wpt/permissions-policy/experimental-features",
              "external/wpt/html/canvas/offscreen/manual/convert-to-blob",
              "external/wpt/pointerevents/pointerlock/pointerevent_getPredictedEvents_when_pointerlocked-manual.html",
              "external/wpt/pointerevents/pointerevent_predicted_events_attributes-manual.html",
              "external/wpt/scroll-animations",
              "external/wpt/requestidlecallback",
              "external/wpt/web-animations/crashtests",
              "external/wpt/web-animations/timing-model/animations",
              "fast/events/pointerevents/pinch",
              "http/tests/devtools/isolated-code-cache",
              "http/tests/devtools/tracing",
              "http/tests/worklet",
              "printing",
              "synthetic_gestures",
              "transitions"],
    "exclusive_tests": ["external/wpt/feature-policy/experimental-features/vertical-scroll-touch-block-manual.tentative.html",
                        "external/wpt/permissions-policy/experimental-features/vertical-scroll-touch-block-manual.tentative.html",
                        "external/wpt/pointerevents/pointerlock/pointerevent_getPredictedEvents_when_pointerlocked-manual.html",
                        "external/wpt/pointerevents/pointerevent_predicted_events_attributes-manual.html",
                        "external/wpt/requestidlecallback",
                        "http/tests/devtools/isolated-code-cache"],
    "args": ["--enable-threaded-compositing"]
  },

  {
    "prefix": "attribution-reporting-debug-mode",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": ["wpt_internal/attribution-reporting"],
    "exclusive_tests": "ALL",
    "args": ["--attribution-reporting-debug-mode",
             "--enable-features=AttributionReportingCrossAppWeb"]
  },
  {
    "prefix": "off-main-thread-css-paint",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": ["external/wpt/css/css-paint-api",
              "http/tests/csspaint"],
    "args": ["--enable-threaded-compositing",
             "--enable-blink-features=OffMainThreadCSSPaint",
             "--enable-gpu-rasterization",
             "--enable-accelerated-2d-canvas",
             "--disable-features=CanvasOopRasterization"]
  },
  {
    "prefix": "prefer_compositing_to_lcd_text",
    "platforms": ["Linux", "Mac", "Win", "Fuchsia"],
    "bases": ["compositing/overflow",
              "compositing/squashing/keep-lcd-text.html",
              "scrollbars"],
    "args": ["--enable-prefer-compositing-to-lcd-text"]
  },
  {
    "prefix": "threaded-no-composited-antialiasing",
    "platforms": ["Linux", "Mac", "Win", "Fuchsia"],
    "bases": ["animations"],
    "args": ["--enable-threaded-compositing",
             "--disable-composited-antialiasing"]
  },

  "The skipped base test requires a compositor to pass as root scrollbar scrolling",
  "is always done on the compositor thread",
  {
    "prefix": "threaded-prefer-compositing",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": ["fast/scroll-behavior",
              "fast/scroll-snap",
              "fast/scrolling",
              "external/wpt/css/cssom-view"],
    "exclusive_tests": ["fast/scrolling/scrollbars/mouse-scrolling-on-div-scrollbar-thumb-scaled.html"],
    "args": ["--enable-threaded-compositing",
             "--enable-prefer-compositing-to-lcd-text"]
  },
  {
    "prefix": "gpu-rasterization",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": ["images",
              "external/wpt/css/css-images/gradient"],
    "args": ["--enable-gpu-rasterization"]
  },
  {
    "prefix": "gpu-rasterization-disable-yuv",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": ["images/yuv-decode-eligible"],
    "args": ["--enable-gpu-rasterization",
             "--disable-blink-features=DecodeLossyWebPImagesToYUV",
             "--disable-blink-features=DecodeJpeg420ImagesToYUV"]
  },
  {
    "prefix": "exotic-color-space",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": ["images"],
    "args": ["--force-color-profile=srgb",
             "--force-raster-color-profile=color-spin-gamma24"]
  },
  {
    "prefix": "stable",
    "platforms": ["Linux", "Mac", "Win", "Fuchsia"],
    "bases": ["fast/css3-text/css3-text-decoration/stable",
              "fast/dom/Window",
              "external/wpt/css/css-color/parsing/",
              "external/wpt/css/css-transitions/parsing/",
              "external/wpt/css/css-animations/parsing/",
              "external/wpt/css/css-images/parsing/",
              "http/tests/navigation",
              "http/tests/sendbeacon",
              "http/tests/serviceworker/webexposed",
              "http/tests/worklet/webexposed",
              "inspector-protocol/dom-snapshot",
              "media/stable",
              "webexposed",
              "compositing/filters"],
    "exclusive_tests": ["media/stable"],
    "args": ["--stable-release-mode",
             "--disable-auto-wpt-origin-isolation",
             "--disable-field-trial-config"]
  },
  {
    "prefix": "feature-policy-permissions",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": ["external/wpt/mediacapture-streams"],
    "exclusive_tests": ["external/wpt/mediacapture-streams/MediaStream-default-feature-policy.https.html"],
    "args": ["--use-fake-device-for-media-stream",
             "--use-fake-ui-for-media-stream"]
  },
  {
    "prefix": "origin-trials-runtimeflags-disabled",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": ["http/tests/origin_trials/webexposed"],
    "args": ["--disable-origin-trial-controlled-blink-features",
             "--stable-release-mode"]
  },
  {
    "prefix": "android",
    "platforms": ["Linux"],
    "bases": ["fullscreen"],
    "args": ["--enable-features=OverlayScrollbar",
             "--enable-threaded-compositing",
             "--enable-prefer-compositing-to-lcd-text",
             "--enable-overscroll-notifications",
             "--enable-viewport",
             "--disable-canvas-aa",
             "--disable-composited-antialiasing"]
  },
  {
    "prefix": "media-foundation-for-clear-dcomp",
    "platforms": ["Win"],
    "bases": ["external/wpt/media-source",
              "media"],
    "args": ["--use-gpu-in-tests",
             "--enable-features=MediaFoundationClearPlayback,MediaFoundationClearRendering:strategy/direct-composition"]
  },
  {
    "prefix": "media-foundation-for-clear-frameserver",
    "platforms": ["Win"],
    "bases": ["external/wpt/media-source",
              "media"],
    "args": ["--use-gpu-in-tests",
             "--force-mfmediaengine-renderer",
             "--enable-features=MediaFoundationClearRendering:strategy/frame-server"]
  },
  {
    "prefix": "media-gpu-accelerated",
    "platforms": ["Linux", "Mac", "Win", "Fuchsia"],
    "bases": ["external/wpt/media-source",
              "media"],
    "args": ["--use-gpu-in-tests"]
  },
  {
    "prefix": "shared_array_buffer_on_desktop",
    "platforms": ["Linux"],
    "bases": ["external/wpt/wasm/jsapi/memory",
              "fast/workers/worker-atomics-wait.html",
              "fast/workers/worker-sharedarraybuffer-transfer.html",
              "fast/workers/chromium/worker-sharedarraybuffer-transfer-two-workers.html",
              "http/tests/inspector-protocol/issues"],
    "args": ["--enable-features=SharedArrayBuffer"]
  },
  {
    "prefix": "mse-1mb-buffers",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": ["http/tests/media/media-source/stream_memory_tests"],
    "exclusive_tests": ["http/tests/media/media-source/stream_memory_tests/mediasource-appendbuffer-quota-exceeded-1mb-buffers.html"],
    "args": ["--mse-audio-buffer-size-limit-mb=1",
             "--mse-video-buffer-size-limit-mb=1"]
  },
  {
    "prefix": "composite-clip-path-animation",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": ["external/wpt/css/css-masking/clip-path/animations"],
    "args": ["--enable-blink-features=CompositeClipPathAnimation",
             "--enable-threaded-compositing"]
  },
  {
    "prefix": "fractional-scroll-offsets",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": ["external/wpt/css/css-position/sticky/",
              "fast/scrolling/"],
    "args": ["--enable-blink-features=FractionalScrollOffsets"]
  },
  {
    "prefix": "compute-pressure",
    "platforms": ["Linux", "Mac"],
    "bases": ["external/wpt/compute-pressure"],
    "exclusive_tests": "ALL",
    "args": ["--enable-features=ComputePressure"]
  },
  {
    "prefix": "highdpi-threaded",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": ["external/wpt/css/css-backgrounds/hidpi",
              "external/wpt/css/css-paint-api/hidpi"],
    "args": ["--force-device-scale-factor=2",
             "--enable-threaded-compositing"]
  },
  {
    "prefix": "scalefactor200",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": ["css3/filters",
              "external/wpt/css/css-paint-api/hidpi",
              "external/wpt/element-timing",
              "external/wpt/css/filter-effects",
              "external/wpt/css/css-grid/animation",
              "external/wpt/largest-contentful-paint",
              "fast/forms/file/file-appearance-no-default-width.html",
              "fast/hidpi/static",
              "http/tests/csspaint/hidpi",
              "http/tests/images/document-policy",
              "http/tests/inspector-protocol/page/page-captureScreenshot-clip-emulation.js"],
    "exclusive_tests": ["fast/hidpi/static"],
    "args": ["--force-device-scale-factor=2"]
  },
  {
    "prefix": "jxl-enabled",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": ["http/tests/inspector-protocol/emulation/emulation-set-disabled-image-types-jxl.js",
              "images/jxl"],
    "exclusive_tests": ["http/tests/inspector-protocol/emulation/emulation-set-disabled-image-types-jxl.js"],
    "args": ["--enable-features=JXL"]
  },
  {
    "prefix": "scalefactor150",
    "platforms": ["Linux", "Win"],
    "bases": ["fast/events/synthetic-events",
              "fast/hidpi/static"],
    "exclusive_tests": ["fast/hidpi/static"],
    "args": ["--force-device-scale-factor=1.5"]
  },
  {
    "prefix": "schemeful-same-site",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": ["external/wpt/cookies"],
    "args": ["--disable-features=SchemefulSameSite"]
  },
  {
    "prefix": "dark-mode-classifier-transparency-and-num-colors",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": ["dark-mode/images"],
    "args": ["--blink-settings=preferredColorScheme=0,forceDarkModeEnabled=true",
             "--dark-mode-settings=ImageClassifierPolicy=1"]
  },
  {
    "prefix": "dark-mode-default",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": ["dark-mode/colors",
              "dark-mode/images"],
    "args": ["--blink-settings=preferredColorScheme=0,forceDarkModeEnabled=true"]
  },
  {
    "prefix": "dark-mode-images-filter-all",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": ["dark-mode/images"],
    "args": ["--blink-settings=preferredColorScheme=0,forceDarkModeEnabled=true",
             "--dark-mode-settings=ImagePolicy=0"]
  },
  {
    "prefix": "dark-mode-images-filter-none",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": ["dark-mode/images"],
    "args": ["--blink-settings=preferredColorScheme=0,forceDarkModeEnabled=true",
             "--dark-mode-settings=ImagePolicy=1"]
  },
  {
    "prefix": "presentation",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": [],
    "args": ["--force-presentation-receiver-for-testing"]
  },
  {
    "prefix": "single-renderer-process",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": ["external/wpt/longtask-timing/shared-renderer"],
    "args": ["--renderer-process-limit=1"]
  },
  {
    "prefix": "compositor_threaded_scrollbar_scrolling",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": ["fast/scrolling/scrollbars",
              "paint/invalidation/scroll/sticky"],
    "args": ["--enable-features=CompositorThreadedScrollbarScrolling",
             "--enable-threaded-compositing",
             "--enable-prefer-compositing-to-lcd-text",
             "--disable-smooth-scrolling"]
  },
  {
    "prefix": "percent-based-scrolling",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": ["fast/scrolling/scrollbars"],
    "args": ["--enable-features=WindowsScrollingPersonality",
             "--enable-threaded-compositing",
             "--enable-prefer-compositing-to-lcd-text",
             "--disable-features=CompositorThreadedScrollbarScrolling"]
  },
  {
    "prefix": "main-threaded-percent-based-scrolling",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": ["fast/events/wheel",
              "fast/scrolling",
              "virtual/percent-based-scrolling"],
    "args": ["--enable-features=WindowsScrollingPersonality"]
  },
  {
    "prefix": "compositor-threaded-percent-based-scrolling",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": ["fast/events/wheel",
              "fast/scrolling",
              "virtual/percent-based-scrolling"],
    "args": ["--enable-features=WindowsScrollingPersonality",
             "--enable-threaded-compositing",
             "--enable-prefer-compositing-to-lcd-text"]
  },
  {
    "prefix": "compositor-threaded-percent-based-scrolling-dsf-2",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": ["fast/scrolling/scrollbars/dsf-ready",
              "virtual/percent-based-scrolling"],
    "args": ["--enable-features=WindowsScrollingPersonality",
             "--enable-threaded-compositing",
             "--enable-prefer-compositing-to-lcd-text",
             "--force-device-scale-factor=2"]
  },
  {
    "prefix": "smooth_compositor_threaded_scrollbar_scrolling",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": ["fast/scrolling/scrollbars/scroll-chaining-for-gesture-based-scrolling.html"],
    "args": ["--enable-features=CompositorThreadedScrollbarScrolling",
             "--enable-threaded-compositing",
             "--enable-prefer-compositing-to-lcd-text",
             "--enable-smooth-scrolling"]
  },
  {
    "prefix": "hidpi",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": ["fast/scrolling/scrollbars/dsf-ready"],
    "args": ["--disable-smooth-scrolling",
             "--force-device-scale-factor=2"]
  },
  {
    "prefix": "compositor_threaded_scrollbar_scrolling_hidpi",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": ["fast/scrolling/scrollbars/dsf-ready"],
    "args": ["--enable-features=CompositorThreadedScrollbarScrolling",
             "--enable-threaded-compositing",
             "--enable-prefer-compositing-to-lcd-text",
             "--disable-smooth-scrolling",
             "--force-device-scale-factor=2"]
  },
  {
    "prefix": "speech-with-unified-autoplay",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": ["external/wpt/speech-api"],
    "args": ["--autoplay-policy=document-user-activation-required"]
  },
  {
    "prefix": "unified-autoplay",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": ["external/wpt/feature-policy"],
    "args": ["--autoplay-policy=document-user-activation-required"]
  },
  {
    "prefix": "wbn-from-network",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": ["external/wpt/web-bundle"],
    "exclusive_tests": ["external/wpt/web-bundle/wbn-from-network"],
    "args": ["--enable-features=WebBundlesFromNetwork"]
  },
  {
    "prefix": "plz-dedicated-worker",
    "platforms": ["Linux"],
    "bases": ["external/wpt/content-security-policy/inside-worker",
              "external/wpt/content-security-policy/worker-src",
              "external/wpt/content-security-policy/gen",
              "external/wpt/fetch/",
              "external/wpt/html/cross-origin-embedder-policy",
              "external/wpt/html/semantics/scripting-1/the-script-element/module/import-meta",
              "external/wpt/referrer-policy",
              "external/wpt/resource-timing",
              "external/wpt/service-workers",
              "external/wpt/upgrade-insecure-requests",
              "external/wpt/workers",
              "external/wpt/xhr",
              "fast/workers",
              "http/tests/devtools",
              "http/tests/inspector-protocol",
              "http/tests/origin_trials",
              "http/tests/workers",
              "inspector-protocol/worker"
            ],
    "args": ["--enable-features=PlzDedicatedWorker"]
  },
  {
    "prefix": "direct-sockets",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": ["external/wpt/direct-sockets",
    	      "wpt_internal/direct-sockets"],
    "exclusive_tests": "ALL",
    "args": ["--enable-features=IsolatedWebApps",
             "--isolated-app-origins=https://web-platform.test"]
  },
  {
    "prefix": "display-compositor-pixel-dump",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": [],
    "args": ["--enable-display-compositor-pixel-dump",
             "--enable-accelerated-2d-canvas"]
  },
  {
    "prefix": "webgl-extra-video-texture-metadata",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": ["fast/webgl/video-metadata"],
    "exclusive_tests": ["fast/webgl/video-metadata/texImage-video-last-uploaded-metadata.html"],
    "args": ["--enable-blink-features=ExtraWebGLVideoTextureMetadata"]
  },

  "The Wasm code cache test requires access to V8 internals, so only the",
  "virtual test should be run.",
  {
    "prefix": "wasm-code-caching",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": ["http/tests/wasm/caching"],
    "exclusive_tests": "ALL",
    "args": ["--js-flags=--allow-natives-syntax"]
  },

  "==== Tests incompatible with the default WPT Origin Isolation start here ==VV",
  "The section below lists web tests that are incompatible with the WPT Origin",
  "Isolation mode of Site Isolation (see",
  "WebTestContentBrowserClient::GetOriginsRequiringDedicatedProcess) which",
  "isolates WPT origins on top of the default site-per-process mode (see",
  "ContentBrowserClient::ShouldEnableStrictSiteIsolation).",

  "--------------------------- document.domain -----------------------",
  "To test OOPIF support in various web platform features, we isolate all WPT",
  "*origins* (under assumptions that hopefully some WPT tests will exercise",
  "cross-origin scenarios, but that cross-site test coverage is unlikely).",
  "*Origin* isolation is incompatible with document.domain and this means that",
  "tests exercising document.domain might fail - such tests are listed as",
  "Skip below.  Note that by default Site Isolation isolates *sites* rather",
  "than *origin* and therefore avoids problems related to document.domain",
  "compatibility.",
  {
    "prefix": "not-site-per-process",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": [
      "external/wpt/html/browsers/origin/relaxing-the-same-origin-restriction",
      "external/wpt/html/browsers/windows/nested-browsing-contexts/frameElement-siblings.sub.html",
      "external/wpt/FileAPI/url/multi-global-origin-serialization.sub.html",
      "external/wpt/dom/events/EventListener-incumbent-global-1.sub.html",
      "external/wpt/dom/events/EventListener-incumbent-global-2.sub.html",
      "http/tests/dom/EventListener-incumbent-global-1.html",
      "http/tests/dom/EventListener-incumbent-global-2.html",
      "external/wpt/html/browsers/history/the-location-interface/allow_prototype_cycle_through_location.sub.html",
      "external/wpt/html/browsers/history/the-location-interface/location-prototype-setting-same-origin-domain.sub.html",
      "external/wpt/html/browsers/origin/cross-origin-objects/cross-origin-objects-on-new-window.html",
      "external/wpt/html/browsers/the-windowproxy-exotic-object/windowproxy-prototype-setting-same-origin-domain.sub.html",
      "external/wpt/wasm/serialization/module/window-domain-success.sub.html",
      "external/wpt/wasm/serialization/module/window-similar-but-cross-origin-success.sub.html",
      "external/wpt/wasm/serialization/module/share-module-cross-origin-fails.sub.html",
      "external/wpt/navigation-api/navigate-event/cross-window/click-crossdocument-crossorigin-sameorigindomain.sub.html",
      "external/wpt/navigation-api/navigate-event/cross-window/click-samedocument-crossorigin-sameorigindomain.sub.html",
      "external/wpt/navigation-api/navigate-event/cross-window/location-crossdocument-crossorigin-sameorigindomain.sub.html",
      "external/wpt/navigation-api/navigate-event/cross-window/location-samedocument-crossorigin-sameorigindomain.sub.html",
      "external/wpt/navigation-api/navigate-event/cross-window/open-crossdocument-crossorigin-sameorigindomain.sub.html",
      "external/wpt/navigation-api/navigate-event/cross-window/open-samedocument-crossorigin-sameorigindomain.sub.html",
      "external/wpt/navigation-api/navigate-event/cross-window/submit-crossdocument-crossorigin-sameorigindomain.sub.html",
      "external/wpt/navigation-api/navigate-event/cross-window/submit-samedocument-crossorigin-sameorigindomain.sub.html"
    ],
    "exclusive_tests": "ALL",
    "args": ["--disable-site-isolation-trials"]
  },

  "----------------------- origin-keyed agent clusters --------------------",
  "Origin-keyed agent clusters web platform tests are for the feature at",
  "https://html.spec.whatwg.org/#origin-keyed-agent-clusters. It doesn't make",
  "sense to test that feature when web-platform.test domains are being forced",
  "into origin-isolation mode. Note that since we also want coverage of this",
  "feature with site isolation enabled, we use a different virtual test suite",
  "than not-site-per-process, named no-auto-wpt-origin-isolation.",
  {
    "prefix": "no-auto-wpt-origin-isolation",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": [
      "external/wpt/html/browsers/origin/origin-keyed-agent-clusters",
      "external/wpt/html/infrastructure/urls/terminology-0",
      "external/wpt/navigation-api/navigate-event/cross-window"
    ],
    "exclusive_tests": ["external/wpt/html/browsers/origin/origin-keyed-agent-clusters"],
    "args": ["--disable-auto-wpt-origin-isolation",
             "--reset-browsing-instance-between-tests"]
  },

  {
    "prefix": "focusless-spat-nav",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": [],
    "args": ["--enable-blink-features=FocuslessSpatialNavigation",
             "--enable-spatial-navigation"]
  },
  {
    "prefix": "passive-fingerprinting",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": ["http/tests/navigation/frozen-useragent.html",
              "http/tests/navigation/useragent.php"],
    "exclusive_tests": ["http/tests/navigation/frozen-useragent.html"],
    "args": ["--enable-features=ReduceUserAgent"]
  },
  {
    "prefix": "fsa-incognito",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": ["external/wpt/file-system-access"],
    "args": ["--enable-features=IncognitoFileSystemContextForTesting"]
  },
  {
    "prefix": "controls-refresh-hc",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": ["fast/forms/color-scheme"],
    "args": ["--enable-features=ForcedColors",
             "--force-high-contrast"]
  },
  {
    "prefix": "use-common-select-popup",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": ["fast/forms/color-scheme/select"],
    "args": ["--enable-features=UseCommonSelectPopup"]
  },
  {
    "prefix": "forced-high-contrast-colors",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": ["external/wpt/forced-colors-mode",
              "html/details_summary/color-scheme-validation"],
    "exclusive_tests": ["external/wpt/forced-colors-mode"],
    "args": ["--force-high-contrast",
             "--enable-blink-features=ForcedColors,ForcedColorsPreserveParentColor"]
  },
  {
    "prefix": "dark-color-scheme",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": ["external/wpt/css/css-color/system-color-consistency.html",
              "external/wpt/css/css-color-adjust/rendering/dark-color-scheme",
              "fast/forms/color-scheme",
              "fast/forms/validation-bubble-appearance-edge.html",
              "fast/forms/validation-bubble-appearance-wrap.html",
              "fast/loader/plain-text-document-appearance.html",
              "http/tests/eye-dropper"],
    "args": ["--blink-settings=preferredColorScheme=0"]
  },
  {
    "prefix": "force-eager",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": ["external/wpt/measure-memory"],
    "exclusive_tests": "ALL",
    "args": ["--enable-blink-features=MeasureMemory,ForceEagerMeasureMemory"]
  },
  {
    "prefix": "payment-request-mandatory-total",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": ["http/tests/payments/payment-request-app-store-billing-mandatory-total.html"],
    "args": ["--disable-blink-features=PaymentRequestTotalOptional"]
  },
  {
    "prefix": "css-trigonometric-functions-disabled",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": [
      "external/wpt/css/css-values/sin-cos-tan-serialize.html",
      "external/wpt/css/css-values/sin-cos-tan-computed.html",
      "external/wpt/css/css-values/sin-cos-tan-invalid.html",
      "external/wpt/css/css-values/acos-asin-atan-atan2-serialize.html",
      "external/wpt/css/css-values/acos-asin-atan-atan2-computed.html",
      "external/wpt/css/css-values/acos-asin-atan-atan2-invalid.html"
    ],
    "args": ["--disable-blink-features=CSSTrigonometricFunctions"]
  },
  {
    "prefix": "import-maps-disabled",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": ["external/wpt/import-maps/not-as-classic-script.html"],
    "args": ["--disable-blink-features=ImportMaps"]
  },
  {
    "prefix": "overlay-scrollbar",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": [],
    "args": ["--enable-features=OverlayScrollbar"]
  },
  {
    "prefix": "elastic-overscroll",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": [],
    "args": ["--enable-features=ElasticOverscroll",
             "--enable-blink-features=FixedElementsDontOverscroll",
             "--enable-threaded-compositing"]
  },
  {
    "prefix": "non-overlay-scrollbar",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": [],
    "args": ["--disable-features=OverlayScrollbar"]
  },
  {
    "prefix": "fluent-non-overlay-scrollbar",
    "platforms": ["Win"],
    "bases": ["fast/scrolling/scrollbars"],
    "args": ["--enable-features=FluentScrollbar",
             "--enable-threaded-compositing",
             "--disable-smooth-scrolling"]
  },
  {
    "prefix": "fluent-non-overlay-scrollbar-dsf-150",
    "platforms": ["Win"],
    "bases": ["virtual/fluent-non-overlay-scrollbar/composited"],
    "args": ["--enable-features=FluentScrollbar",
             "--enable-threaded-compositing",
             "--force-device-scale-factor=1.5"]
  },
  {
    "prefix": "fluent-non-overlay-scrollbar-dsf-200",
    "platforms": ["Win"],
    "bases": ["virtual/fluent-non-overlay-scrollbar/composited"],
    "args": ["--enable-features=FluentScrollbar",
             "--enable-threaded-compositing",
             "--force-device-scale-factor=2"]
  },
  {
    "prefix": "fluent-non-overlay-scrollbar-dark-mode",
    "platforms": ["Win"],
    "bases": ["fast/forms/color-scheme/scrollbar"],
    "args": ["--enable-features=FluentScrollbar",
             "--blink-settings=preferredColorScheme=0"]
  },
  {
    "prefix": "text-antialias",
    "platforms": ["Linux", "Mac", "Win", "Fuchsia"],
    "bases": [],
    "args": ["--enable-font-antialiasing"]
  },
  {
    "prefix": "mathml-disabled",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": [],
    "args": ["--disable-blink-features=MathMLCore"]
  },
  {
    "prefix": "hdr",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": [],
    "args": ["--force-color-profile=scrgb-linear"]
  },
  {
    "prefix": "color-spin",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": [],
    "args": ["--force-color-profile=color-spin-gamma24"]
  },
  {
    "prefix": "wide-gamut",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": [],
    "args": ["--force-color-profile=display-p3-d65"]
  },
  {
    "prefix": "split-cache-by-include-credentials",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": ["external/wpt/fetch/http-cache"],
    "exclusive_tests": "ALL",
    "args": ["--enable-features=SplitCacheByIncludeCredentials"]
  },
  {
    "prefix": "split-http-cache",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": ["external/wpt/fetch/http-cache",
              "external/wpt/signed-exchange"],
    "exclusive_tests": ["external/wpt/fetch/http-cache"],
    "args": ["--enable-features=SplitCacheByNetworkIsolationKey"]
  },
  {
    "prefix": "not-split-http-cache",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": ["external/wpt/fetch/http-cache"],
    "exclusive_tests": "ALL",
    "args": ["--disable-features=SplitCacheByNetworkIsolationKey"]
  },
  {
    "prefix": "disable-ua-client-hint",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": ["external/wpt/client-hints", "wpt_internal/client-hints"],
    "args": ["--disable-features=UserAgentClientHint"]
  },
  {
    "prefix": "disable-prefers-reduced-motion-client-hint",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": ["external/wpt/client-hints", "wpt_internal/client-hints"],
    "args": ["--disable-features=PrefersReducedMotionClientHintHeader"]
  },
  {
    "prefix": "storage-access-api",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": [ "external/wpt/storage-access-api" ],
    "args": [ "--enable-features=StorageAccessAPI" ]
  },
  {
    "prefix": "storage-access-api-for-origin-extension",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": [ "wpt_internal/storage-access-api" ],
    "args": [ "--enable-features=StorageAccessAPI,StorageAccessAPIForOriginExtension" ]
  },
  {
    "prefix": "web-bluetooth-new-permissions-backend",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": ["wpt_internal/bluetooth", "external/wpt/bluetooth"],
    "args": ["--enable-features=WebBluetoothNewPermissionsBackend"]
  },
  {
    "prefix": "trust-tokens",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": [
        "external/wpt/trust-tokens/end-to-end",
        "http/tests/loading/trust-tokens",
        "http/tests/inspector-protocol/trust-tokens",
        "wpt_internal/trust-tokens"
    ],
    "exclusive_tests": "ALL",
    "args": [
        "--enable-features=TrustTokens",
        "--enable-blink-features=TrustTokens,TrustTokensAlwaysAllowIssuance",
        "--additional-trust-token-key-commitments={\"https://web-platform.test:8444\":{\"TrustTokenV3VOPRF\":{\"protocol_version\":\"TrustTokenV3VOPRF\",\"id\":1,\"batchsize\":1,\"keys\":{\"0\":{\"Y\":\"AAAAAASqh8oivosFN46xxx7zIK10bh07Younm5hZ90HgglQqOFUC8l2/VSlsOlReOHJ2CrfJ6CG1adnTkKJhZ0BtbSPWBwviQtdl64MWJc7sSg9HPvWfTjDigX5ihbzihG8V8aA=\",\"expiry\":\"253402300799000000\"}}}}}"
    ]
  },
  {
    "prefix": "offsetparent-old-behavior",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": [
      "external/wpt/css/css-contain/content-visibility",
      "external/wpt/shadow-dom",
      "fast/dom/shadow"
    ],
    "args": ["--disable-features=OffsetParentNewSpecBehavior"]
  },
  {
    "prefix": "streaming-declarative-shadow-dom-disabled",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": [
      "external/wpt/shadow-dom/declarative"
    ],
    "args": ["--disable-features=StreamingDeclarativeShadowDOM"]
  },
  {
    "prefix": "document-domain-disabled-by-default",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": [
      "external/wpt/document-policy/experimental-features/document-domain"
    ],
    "args": [ "--enable-features=DisableDocumentDomainByDefault" ]
  },
  {
    "prefix": "backface-visibility-interop",
    "platforms": ["Linux"],
    "bases": [ "external/wpt/css/css-transforms" ],
    "args": [ "--enable-features=BackfaceVisibilityInterop" ]
  },
  {
    "prefix": "portals",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": [ "external/wpt/fetch/metadata/portal.https.sub.html",
               "external/wpt/portals",
               "http/tests/devtools/portals",
               "http/tests/inspector-protocol/portals",
               "http/tests/portals",
               "wpt_internal/portals" ],
    "exclusive_tests": "ALL",
    "args": [ "--enable-features=Portals,PortalsCrossOrigin" ]
  },
  {
    "prefix": "restrict-gamepad",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": [ "external/wpt/gamepad" ],
    "args": [ "--enable-features=RestrictGamepadAccess" ]
  },
  {
    "prefix": "third-party-storage-partitioning",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": [
      "wpt_internal/file-system-api",
      "wpt_internal/storage/quota/partitioned-webkitTemporaryStorage-usage-details.tentative.sub.html",
      "wpt_internal/storage/quota/partitioned-webkitPersistentStorage-quota-usage-details.tentative.sub.html",
      "wpt_internal/storage/quota/partitioned-webkitStorageInfo-temporary-quota-usage-details.tentative.sub.html",
      "wpt_internal/storage/quota/partitioned-webkitStorageInfo-persistent-quota-usage-details.tentative.sub.html",
      "external/wpt/FileAPI/BlobURL/cross-partition.tentative.https.html",
      "external/wpt/storage/partitioned-estimate-usage-details-caches.tentative.https.sub.html",
      "external/wpt/storage/partitioned-estimate-usage-details-indexeddb.tentative.https.sub.html",
      "external/wpt/storage/partitioned-estimate-usage-details-service-workers.tentative.https.sub.html",
      "external/wpt/web-locks/partitioned-web-locks.tentative.https.html",
      "external/wpt/workers/shared-worker-partitioned.tentative.html",
      "external/wpt/service-workers/service-worker/partitioned.tentative.https.html",
      "external/wpt/service-workers/service-worker/partitioned-getRegistrations.tentative.https.html",
      "external/wpt/service-workers/service-worker/partitioned-matchAll.tentative.https.html",
      "external/wpt/service-workers/service-worker/partitioned-claim.tentative.https.html",
      "external/wpt/webstorage/localstorage-basic-partitioned.tentative.sub.html",
      "external/wpt/webstorage/sessionStorage-basic-partitioned.tentative.sub.html",
      "external/wpt/webmessaging/broadcastchannel/cross-partition.https.tentative.html",
      "external/wpt/IndexedDB",
      "external/wpt/webstorage/localstorage-about-blank-3P-iframe-opens-3P-window.partitioned.tentative.html",
      "fast/filesystem",
      "external/wpt/html/browsers/windows/post-message",
      "http/tests/inspector-protocol/storage/dom-storage-set-items-by-storage-key.js",
      "http/tests/inspector-protocol/storage/indexed-db-set-items-by-storage-key.js",
      "http/tests/storage/partitioned-storage"
    ],
    "args": [ "--enable-features=ThirdPartyStoragePartitioning" ]
  },
  {
    "prefix": "post-message-first-party-to-third-party-different-bucket-same-origin-blocked",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": ["external/wpt/html/browsers/windows/post-message"],
    "args": ["--enable-features=PostMessageFirstPartyToThirdPartyDifferentBucketSameOriginBlocked"]
  },
  {
    "prefix": "post-message-third-party-to-first-party-different-bucket-same-origin-blocked",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": ["external/wpt/html/browsers/windows/post-message"],
    "args": ["--enable-features=PostMessageThirdPartyToFirstPartyDifferentBucketSameOriginBlocked"]
  },
  {
    "prefix": "post-message-third-party-to-third-party-different-bucket-same-origin-blocked",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": ["external/wpt/html/browsers/windows/post-message"],
    "args": ["--enable-features=PostMessageThirdPartyToThirdPartyDifferentBucketSameOriginBlocked"]
  },

  "isInputPending requires threaded compositing and layerized iframes",
  {
    "prefix": "threaded-composited-iframes",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": ["external/wpt/is-input-pending"],
    "exclusive_tests": "ALL",
    "args": ["--enable-threaded-compositing",
             "--disable-auto-wpt-origin-isolation"]
  },

  {
    "prefix": "oopr-canvas2d",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": [ "fast/canvas" ],
    "args": [ "--enable-features=CanvasOopRasterization",
              "--enable-accelerated-2d-canvas",
              "--enable-gpu-rasterization" ]
  },
  {
    "prefix": "disable-frequency-capping-for-overlay-popup-detection",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": ["http/tests/subresource_filter/overlay_popup_ad"],
    "exclusive_tests": "ALL",
    "args": ["--disable-features=FrequencyCappingForOverlayPopupDetection"]
  },
  {
    "prefix": "web-app-window-controls-overlay",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": ["external/wpt/html/webappapis/system-state-and-capabilities/the-navigator-object/navigator-window-controls-overlay.html"],
    "args": [ "--enable-features=WebAppWindowControlsOverlay"]
  },
  {
    "prefix": "first-party-sets",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": ["http/tests/inspector-protocol/network"],
    "args": ["--use-first-party-set={\"primary\":\"https://firstparty.test\",\"associatedSites\":[\"https://cookie.test\"]}"]
  },
  {
    "prefix": "partitioned-cookies",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": ["external/wpt/cookies/partitioned-cookies/",
              "external/wpt/html/anonymous-iframe/",
              "http/tests/cookies/partitioned-cookies",
              "http/tests/inspector-protocol/network/"],
    "args": ["--enable-features=PartitionedCookies"]
  },
  {
    "prefix": "prerender",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": [ "external/wpt/speculation-rules/prerender",
               "wpt_internal/prerender",
               "http/tests/inspector-protocol/prerender"],
    "exclusive_tests": ["external/wpt/speculation-rules/prerender/referrer-policy-from-rules.html"],
    "args": [
      "--enable-blink-features=SpeculationRulesReferrerPolicyKey",
      "--enable-features=SameSiteCrossOriginForSpeculationRulesPrerender"
    ]
  },
  {
    "prefix": "no-different-origin-dialogs",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": ["external/wpt/html/webappapis/user-prompts/cannot-show-simple-dialogs/confirm-different-origin-frame.sub.html",
              "external/wpt/html/webappapis/user-prompts/cannot-show-simple-dialogs/prompt-different-origin-frame.sub.html"],
    "args": [ "--enable-features=SuppressDifferentOriginSubframeJSDialogs"]
  },
  {
    "prefix": "force-renderer-accessibility",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": ["accessibility/accessibility-beforematch-marker-crash.html",
              "accessibility/accessibility-node-appendChild-crash.html",
              "accessibility/details-summary-crash.html",
              "accessibility/slot-poison.html",
              "accessibility/virtual-node-child-removal.html",
              "accessibility/virtual-node-parent-removal.html",
              "accessibility/virtual-node-build-parent.html",
              "accessibility/virtual-node-build-parent-multiple.html",
              "accessibility/virtual-node-removed-from-document.html",
              "accessibility/virtual-node-repair-document.html",
              "dom/legacy_dom_conformance/html/level2/core/createAttributeNS06.html",
              "external/wpt/accessibility/",
              "external/wpt/dom/ranges/Range-deleteContents.html",
              "external/wpt/html/semantics/embedded-content/the-iframe-element/iframe-initially-empty-is-updated.html",
              "editing/text-iterator/auto-expand-details.html",
              "editing/text-iterator/auto-expand-details-shadowdom.html"],
    "args": ["--force-renderer-accessibility"]
  },
  {
    "prefix": "no-alloc-direct-call",
    "platforms": ["Linux"],
    "bases": ["fast/canvas"],
    "args": ["--enable-fake-no-alloc-direct-call-for-testing"]
  },
  {
    "prefix": "view-transition",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": ["external/wpt/css/css-view-transitions",
              "wpt_internal/view-transition",
              "view-transition",
              "inspector-protocol/css/css-get-styles-for-view-transition.js"],
    "exclusive_tests": "ALL",
    "args": ["--enable-features=ViewTransition",
             "--enable-threaded-compositing",
             "--enable-gpu-rasterization"]
  },
  {
    "prefix": "view-transition-on-navigation",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": ["wpt_internal/view-transition-on-navigation"],
    "exclusive_tests": "ALL",
    "args": ["--enable-features=ViewTransition,ViewTransitionOnNavigation",
             "--enable-threaded-compositing",
             "--enable-gpu-rasterization"]
  },
  {
    "prefix": "view-transition-wide-gamut",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": ["external/wpt/css/css-view-transitions",
              "wpt_internal/view-transition",
              "view-transition",
              "inspector-protocol/css/css-get-styles-for-view-transition.js"],
    "exclusive_tests": "ALL",
    "args": ["--enable-features=ViewTransition",
             "--enable-threaded-compositing",
             "--enable-gpu-rasterization",
             "--force-color-profile=display-p3-d65"]
  },
  {
    "prefix": "popover-disabled",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": [],
    "args": ["--disable-blink-features=HTMLSelectMenuElement,HTMLPopoverAttribute"]
  },
  {
    "prefix": "object-param-url",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": ["external/wpt/html/semantics/embedded-content/the-object-element/object-param-url.html"],
    "args": ["--disable-features=HTMLParamElementUrlSupport"]
  },
  {
    "prefix": "parakeet",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": ["external/wpt/parakeet"],
    "args": ["--enable-features=InterestGroupStorage,AdInterestGroupAPI,Parakeet"]
  },
  {
    "prefix": "fledge",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": [
      "http/tests/inspector-protocol/target/auto-attach-auction-worklet.js",
      "http/tests/inspector-protocol/target/target-auction-worklet.js",
      "http/tests/inspector-protocol/timeline/auction-worklet.js",
      "http/tests/inspector-protocol/timeline/auction-worklet-network.js",
      "http/tests/inspector-protocol/timeline/auction-worklet-frame.js",
      "http/tests/inspector-protocol/storage/interest-groups.js"
    ],
    "args": [
      "--enable-features=InterestGroupStorage,AdInterestGroupAPI,Fledge,PrivacySandboxAdsAPIsOverride,FencedFrames:implementation_type/mparch"
    ]
  },
  {
    "prefix": "automatic-lazy-frame-loading",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": [
      "wpt_internal/lazyembed",
      "wpt_internal/async-script-scheduling"
    ],
    "exclusive_tests": ["wpt_internal/lazyembed"],
    "args": [
      "--enable-features=AutomaticLazyFrameLoadingToEmbeds:timeout/1000,AutomaticLazyFrameLoadingToEmbedUrls:allowed_websites/http%3A%2F%2Fbad3p.test%3A3001%7C%2Fembed,AutomaticLazyFrameLoadingToAds:timeout/5000,DelayAsyncScriptExecution:delay_async_exec_target/cross_site_with_allow_list/delay_async_exec_allow_list/http%3A%2F%2Fbad3p.test",
      "--disable-field-trial-config"
    ]
  },
  {
    "prefix": "automatic-lazy-frame-loading-ads",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": [],
    "args": ["--enable-features=AutomaticLazyFrameLoadingToAds:timeout/1000"]
  },
  {
    "prefix": "async-script-scheduling-disabled",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": ["wpt_internal/async-script-scheduling"],
    "args": ["--disable-features=DelayAsyncScriptExecution"]
  },
  {
    "prefix": "async-script-scheduling-apply-to-cross-site-only",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": ["wpt_internal/async-script-scheduling"],
    "args": ["--enable-features=DelayAsyncScriptExecution:delay_async_exec_target/cross_site_only"]
  },
  {
    "prefix": "async-script-scheduling-apply-to-allowlist",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": ["wpt_internal/async-script-scheduling"],
    "args": ["--enable-features=DelayAsyncScriptExecution:delay_async_exec_target/cross_site_with_allow_list/delay_async_exec_allow_list/http%3A%2F%2Fbad3p.test%7C%2Fwpt_internal%2Fasync-script-scheduling%2Fresources%2Fscript.sub.js"]
  },
  {
    "prefix": "async-script-scheduling-finished-parsing",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": ["wpt_internal/async-script-scheduling"],
    "args": ["--enable-features=DelayAsyncScriptExecution:delay_async_exec_delay_type/finished_parsing"]
  },
  {
    "prefix": "async-script-scheduling-finished-parsing-with-dom-content-loaded-wait-for-async-script",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": ["wpt_internal/async-script-scheduling"],
    "args": ["--enable-features=DelayAsyncScriptExecution:delay_async_exec_delay_type/finished_parsing,DOMContentLoadedWaitForAsyncScript"]
  },
  {
    "prefix": "async-script-scheduling-first-paint-or-finished-parsing",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": ["wpt_internal/async-script-scheduling"],
    "args": ["--enable-features=DelayAsyncScriptExecution:delay_async_exec_delay_type/first_paint_or_finished_parsing"]
  },
  {
    "prefix": "low-priority-script-loading",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": ["http/tests/devtools/network/resource-priority.js"],
    "args": ["--enable-features=LowPriorityScriptLoading"]
  },
  {
    "prefix": "lcp-multiple-updates-per-element",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": [
      "external/wpt/largest-contentful-paint/update-on-style-change.tentative.html"
    ],
    "args": [
      "--enable-features=LCPMultipleUpdatesPerElement"
    ]
  },
  {
    "prefix": "initially-invisible-images-lcp",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": ["external/wpt/largest-contentful-paint/initially-invisible-images.html"],
    "args": [ "--enable-features=IncludeInitiallyInvisibleImagesInLCP"]
  },
  {
    "prefix": "background-svg-in-lcp",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": ["external/wpt/largest-contentful-paint/"],
    "args": [ "--enable-features=IncludeBackgroundSVGInLCP"]
  },
  {
    "prefix": "css-highlight-inheritance",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": [
      "external/wpt/css/css-pseudo",
      "wpt_internal/css/css-pseudo",
      "external/wpt/css/css-highlight-api",
      "http/tests/inspector-protocol/css/highlight-pseudo-inheritance.js"
    ],
    "args": ["--enable-blink-features=HighlightInheritance"]
  },
  {
    "prefix": "shared-storage-fenced-frame-mparch",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": [
      "wpt_internal/shared_storage",
      "external/wpt/shared-storage",
      "http/tests/inspector-protocol/storage/shared-storage.js",
      "http/tests/inspector-protocol/storage/shared-storage-delete.js",
      "http/tests/inspector-protocol/storage/shared-storage-set.js",
      "http/tests/inspector-protocol/storage/shared-storage-tracking-disabled.js"
    ],
    "exclusive_tests": [
      "wpt_internal/shared_storage",
      "external/wpt/shared-storage"
    ],
    "args": ["--enable-features=SharedStorageAPI,FencedFrames:implementation_type/mparch,PrivacySandboxAdsAPIsOverride"]
  },
  {
    "prefix": "shared-storage-fenced-frame-shadow-dom",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": [
      "wpt_internal/shared_storage",
      "external/wpt/shared-storage",
      "http/tests/inspector-protocol/storage/shared-storage.js",
      "http/tests/inspector-protocol/storage/shared-storage-delete.js",
      "http/tests/inspector-protocol/storage/shared-storage-set.js",
      "http/tests/inspector-protocol/storage/shared-storage-tracking-disabled.js"
    ],
    "exclusive_tests": [
      "wpt_internal/shared_storage",
      "external/wpt/shared-storage"
    ],
    "args": ["--enable-features=SharedStorageAPI,FencedFrames:implementation_type/shadow_dom,PrivacySandboxAdsAPIsOverride"]
  },
  {
    "prefix": "task-tracking",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": ["wpt_internal/task-tracking"],
    "exclusive_tests": "ALL",
    "args": ["--enable-blink-features=UnexposedTaskIds"]
  },
  {
    "prefix": "fenced-frame-mparch",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": [
      "http/tests/fenced_frame",
      "wpt_internal/fenced_frame",
      "http/tests/inspector-protocol/fenced-frame",
      "external/wpt/html/anonymous-iframe"
    ],
    "exclusive_tests": [
      "http/tests/fenced_frame",
      "wpt_internal/fenced_frame",
      "http/tests/inspector-protocol/fenced-frame"
    ],
    "args": ["--enable-features=FencedFrames:implementation_type/mparch,PrivacySandboxAdsAPIsOverride,SharedStorageAPI,NoncedPartitionedCookies"]
  },
  {
    "prefix": "fenced-frame-shadow-dom",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": [
      "http/tests/fenced_frame",
      "wpt_internal/fenced_frame",
      "external/wpt/html/anonymous-iframe"
    ],
    "exclusive_tests": [
      "http/tests/fenced_frame",
      "wpt_internal/fenced_frame"
    ],
    "args": ["--enable-features=FencedFrames:implementation_type/shadow_dom,PrivacySandboxAdsAPIsOverride,SharedStorageAPI,NoncedPartitionedCookies",
             "--force-renderer-accessibility"]
  },
  {
    "prefix": "cors-non-wildcard-request-headers",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": ["external/wpt/fetch/api/cors/cors-preflight.any.js"],
    "args": ["--enable-features=CorsNonWildcardRequestHeadersSupport"]
  },
  {
    "prefix": "system-color-picker-appearance",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": ["fast/forms/color-scheme/color/color-picker-appearance.html"],
    "args": ["--enable-features=SystemColorChooser"]
  },
  {
    "prefix": "dark-system-color-picker-appearance",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": ["fast/forms/color-scheme/color/color-picker-appearance.html"],
    "args": ["--blink-settings=preferredColorScheme=0", "--enable-features=SystemColorChooser"]
  },
  {
    "prefix": "css-highlight-overlay-painting",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": [
      "external/wpt/css/css-pseudo",
      "wpt_internal/css/css-pseudo",
      "external/wpt/css/css-highlight-api",
      "paint/markers/inline_spelling_markers.html",
      "paint/markers/inline-spelling-markers-hidpi.html",
      "paint/markers/inline-spelling-markers-hidpi-composited.html",
      "paint/invalidation/selection/selection-after-remove.html"
    ],
    "args": ["--enable-blink-features=HighlightOverlayPainting"]
  },

  "The following tests never pass in the default Blink test runner due to",
  "forced frame updates, but still pass in the full browser.",
  {
    "prefix": "no-forced-frame-updates",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": [
      "external/wpt/css/css-transitions/render-blocking",
      "external/wpt/html/dom/render-blocking"
    ],
    "exclusive_tests": "ALL",
    "args": ["--enable-features=NoForcedFrameUpdatesForWebTests"]
  },

  {
    "prefix": "enable-system-cursor-size-for-svg",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": ["fast/events/mouse-cursor-image-set-svg.html"],
    "args": [
      "--enable-features=SystemCursorSizeSupported",
      "--disable-headless-mode"
    ]
  },
  {
    "prefix": "document-pip",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": [],
    "args": ["--enable-features=DocumentPictureInPictureAPI",
             "--enable-blink-features=DocumentPictureInPictureAPI"]
  },

  "Tests in the virtual/origin-agent-cluster-default suite. These tests",
  "require isolation behaviour as in the actual browser and are therefore",
  "incompatible with auto-wpt-origin-isolation. Thus they are only run in",
  "their virtual test suite.",
  {
    "prefix": "origin-agent-cluster-default",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": [ "wpt_internal/origin-agent-cluster-default" ],
    "exclusive_tests": "ALL",
    "args": [
      "--enable-features=OriginAgentClusterDefaultWarning",
      "--disable-auto-wpt-origin-isolation"
    ]
  },

  {
    "prefix": "webauthn-remote-desktop-client-override",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": [ "external/wpt/webauthn/remote-desktop-client-override.tentative.https.html" ],
    "args": [
      "--webauthn-remote-desktop-support"
    ]
  },
  {
    "prefix": "mediastreamtrack-transfer",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": [
      "external/wpt/mediacapture-streams/MediaStreamTrack-iframe-transfer.https.html",
      "external/wpt/mediacapture-streams/MediaStreamTrack-iframe-audio-transfer.https.html"
    ],
    "exclusive_tests": "ALL",
    "args": [
      "--enable-blink-features=MediaStreamTrackTransfer",
      "--enable-features=MediaStreamTrackTransfer",
      "--use-fake-device-for-media-stream=display-media-type=browser"
    ]
  },
  {
    "prefix": "force-defer-script",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": ["external/wpt/html/semantics/scripting-1/the-script-element/defer-script/"],
    "args": ["--enable-features=ForceDeferScriptIntervention"]
  },
  {
    "prefix": "force-in-order-script",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": ["wpt_internal/in-order-script-scheduling/force-in-order"],
    "args": [
      "--enable-features=ForceInOrderScript"
    ]
  },
  {
    "prefix": "selective-in-order-script",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": ["wpt_internal/in-order-script-scheduling/selective-in-order"],
    "args": [
      "--enable-features=SelectiveInOrderScript,SelectiveInOrderScriptTarget:allow_list/http%3A%2F%2Fbad3p.test%7Csync-script-1.js"
    ]
  },
  {
    "prefix": "threaded-preload-scanner",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": [
      "external/wpt/html/semantics/scripting-1",
      "fast/dom/HTMLScriptElement",
      "fast/preloader"
    ],
    "args": ["--enable-features=ThreadedPreloadScanner,PrecompileInlineScripts"]
  },
  {
    "prefix": "isolate-sandboxed-iframes",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": [ "external/wpt/html/infrastructure/urls/terminology-0/" ],
    "args": [ "--enable-features=IsolateSandboxedIframes" ]
  },
  {
    "prefix": "coop-restrict-properties",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": [ "external/wpt/html/cross-origin-opener-policy/tentative/restrict-properties" ],
    "args": [ "--enable-features=CoopRestrictProperties" ]
  },

  "These tests require the experimental speculative prefetch feature, and",
  "requires extra switches to enable content implementation of speculation",
  "rules prefetch.",
  {
    "prefix": "prefetch",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": [
      "external/wpt/speculation-rules/prefetch",
      "http/tests/inspector-protocol/prefetch"
    ],
    "exclusive_tests": "ALL",
    "args": [
      "--enable-blink-features=SpeculationRulesPrefetchProxy,SpeculationRulesFetchFromHeader,SpeculationRulesReferrerPolicyKey",
      "--enable-features=SpeculationRulesPrefetchProxy,PrefetchUseContentRefactor",
      "--bypass-prefetch-proxy-for-host=not-web-platform.test",
      "--isolated-prerender-allow-all-domains"
    ]
  },
  {
    "prefix": "sanitizer-api-namespaces",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": [
      "external/wpt/sanitizer-api/sanitizer-names.https.html",
      "external/wpt/sanitizer-api/sanitizer-names.https.tentative.html",
      "virtual/mathml-disabled/sanitizer-api-math-namespace-designator.html"
    ],
    "exclusive_tests": [
      "external/wpt/sanitizer-api/sanitizer-names.https.tentative.html",
      "virtual/mathml-disabled/sanitizer-api-math-namespace-designator.html"
    ],
    "args": ["--enable-features=SanitizerAPINamespacesForTesting"]
  },
  {
    "prefix": "cookie-reject-domain-non-ascii",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": [ "http/tests/inspector-protocol/issues/cookie-domain-non-ascii.js" ],
    "args": ["--enable-features=CookieDomainRejectNonASCII"]
  },
  {
    "prefix": "pending-beacon",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": [
      "external/wpt/pending-beacon",
      "wpt_internal/pending-beacon"
    ],
    "exclusive_tests": "ALL",
    "args": [
      "--enable-features=PendingBeaconAPI:requires_origin_trial/false"
    ]
  },
  {
    "prefix": "pending-beacon-origin-trial",
    "platforms": ["Linux"],
    "bases": [
      "http/tests/origin_trials/webexposed/pending-beacon-origin-trial-interfaces.html"
    ],
    "args": ["--enable-features=PendingBeaconAPI:requires_origin_trial/true"]
  },
  {
    "prefix": "pretokenize-css",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": [
      "external/wpt/css/css-syntax/charset",
      "external/wpt/subresource-integrity",
      "fast/css/cached-sheet-restore-crash.html",
      "fast/css/link-alternate-stylesheet-1.html",
      "fast/css/link-alternate-stylesheet-2.html",
      "fast/css/link-alternate-stylesheet-3.html",
      "fast/css/link-alternate-stylesheet-4.html",
      "fast/css/link-alternate-stylesheet-5.html",
      "fast/css/sheet-collection-link.html",
      "fast/encoding/css-charset-default.xhtml"
    ],
    "args": ["--enable-features=PretokenizeCSS"]
  },
  {
    "prefix": "close-watcher",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": [
      "external/wpt/close-watcher"
    ],
    "args": ["--enable-blink-features=CloseWatcher"]
  },
  {
    "prefix": "orb-v01",
    "platforms": ["Linux"],
    "args": ["--enable-features=OpaqueResponseBlockingV01"],
    "bases": [
      "external/wpt/fetch/corb",
      "external/wpt/fetch/api",
      "external/wpt/fetch/nosniff"
    ]
  },
  {
    "prefix": "orb-v02",
    "platforms": ["Linux"],
    "args": ["--enable-features=OpaqueResponseBlockingV01,OpaqueResponseBlockingV02"],
    "bases": [
      "external/wpt/fetch/corb"
    ]
  },
  {
    "prefix": "js-shared-memory",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": ["wpt_internal/js/shared_memory"],
    "exclusive_tests": "ALL",
    "args": ["--enable-features=JavaScriptExperimentalSharedMemory"]
  },
  {
    "prefix": "scoped-custom-element-registry-disabled",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": ["external/wpt/custom-elements/scoped-registry"],
    "args": ["--disable-blink-features=ScopedCustomElementRegistry"]
  },
  {
    "prefix": "abort-signal-remove",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": [
      "external/wpt/eyedropper",
      "external/wpt/idle-detection",
      "external/wpt/web-nfc"
    ],
    "args": ["--disable-features=AbortSignalHandleBasedRemoval"]
  },
  {
    "prefix": "devtools-tab-target",
    "platforms": ["Linux", "Mac", "Win"],
    "bases": ["http/tests/devtools/extensions", "http/tests/devtools/tracing", "http/tests/devtools/coverage"],
    "args": ["--content-shell-devtools-tab-target"]
  }
]
