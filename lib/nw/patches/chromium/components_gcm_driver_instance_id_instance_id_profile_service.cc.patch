diff -r -u --color up/chromium/components/gcm_driver/instance_id/instance_id_profile_service.cc nw/chromium/components/gcm_driver/instance_id/instance_id_profile_service.cc
--- up/chromium/components/gcm_driver/instance_id/instance_id_profile_service.cc	2023-02-21 19:03:23.000000000 +0000
+++ nw/chromium/components/gcm_driver/instance_id/instance_id_profile_service.cc	2023-02-25 19:07:13.685805292 +0000
@@ -6,12 +6,18 @@
 
 #include "base/check.h"
 #include "base/memory/ptr_util.h"
+#include "content/nw/src/nw_base.h"
 #include "components/gcm_driver/gcm_driver.h"
 #include "components/gcm_driver/gcm_profile_service.h"
 #include "components/gcm_driver/instance_id/instance_id_driver.h"
 
 namespace instance_id {
 
+// static
+bool InstanceIDProfileService::IsInstanceIDEnabled() {
+  return nw::gcm_enabled() && InstanceIDDriver::IsInstanceIDEnabled();
+}
+
 InstanceIDProfileService::InstanceIDProfileService(gcm::GCMDriver* driver,
                                                    bool is_off_the_record) {
   DCHECK(!is_off_the_record);
