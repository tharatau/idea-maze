diff -r -u --color up/chromium/content/browser/renderer_host/ancestor_throttle.cc nw/chromium/content/browser/renderer_host/ancestor_throttle.cc
--- up/chromium/content/browser/renderer_host/ancestor_throttle.cc	2023-02-21 19:03:23.000000000 +0000
+++ nw/chromium/content/browser/renderer_host/ancestor_throttle.cc	2023-02-24 20:54:12.768493967 +0000
@@ -214,6 +214,8 @@
   NavigationRequest* request = NavigationRequest::From(navigation_handle());
   network::mojom::XFrameOptionsValue disposition =
       request->response()->parsed_headers->xfo;
+  if (request->frame_tree_node()->frame_owner_properties().nwfaketop)
+    return CheckResult::PROCEED;
 
   // If 'X-Frame-Options' would potentially block the response, check whether
   // the 'frame-ancestors' CSP directive should take effect instead. See
@@ -320,7 +322,13 @@
       GetParentExceptForFencedFrame(static_cast<RenderFrameHostImpl*>(
           navigation_handle()->GetRenderFrameHost()));
 
+  if (static_cast<RenderFrameHostImpl*>(navigation_handle()->GetRenderFrameHost())->
+      frame_tree_node()->frame_owner_properties().nwfaketop)
+    return CheckResult::PROCEED;
+
   while (parent) {
+    if (parent->frame_tree_node()->frame_owner_properties().nwfaketop)
+      break;
     // CSP violations (if any) are reported via the disallowed ancestor of the
     // navigated frame (because while the throttle runs the navigation hasn't
     // committed yet and the target frame might not yet have a URLLoaderFactory
