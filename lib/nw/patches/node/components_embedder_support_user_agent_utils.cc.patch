diff -r -u --color up/chromium/components/embedder_support/user_agent_utils.cc nw/chromium/components/embedder_support/user_agent_utils.cc
--- up/chromium/components/embedder_support/user_agent_utils.cc	2023-02-21 19:03:23.000000000 +0000
+++ nw/chromium/components/embedder_support/user_agent_utils.cc	2023-02-24 20:12:07.200847224 +0000
@@ -4,6 +4,8 @@
 
 #include "components/embedder_support/user_agent_utils.h"
 
+#include "content/nw/src/common/nw_content_common_hooks.h"
+
 #include "base/command_line.h"
 #include "base/debug/stack_trace.h"
 #include "base/feature_list.h"
@@ -432,6 +434,11 @@
     LOG(WARNING) << "Ignored invalid value for flag --" << kUserAgent;
   }
 
+  std::string user_agent;
+  if (nw::GetUserAgentFromManifest(&user_agent)) {
+    return user_agent;
+  }
+
   if (base::FeatureList::IsEnabled(blink::features::kFullUserAgent))
     return GetFullUserAgent(force_major_to_minor);
 
